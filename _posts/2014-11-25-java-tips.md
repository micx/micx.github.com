---
layout: post
title: Java tips
category: java技术
published: true
---
## 1. 为什么要覆盖toString()方法

虽然java.lang.Object提供了toString方法的一个实现，但它返回的字符串通常不是类的用户所希望看到的。它包含类的名称，以及一个"@"符号，接着是散列码的无符号十六进制表示法，如"Hello@163b12"。

```java
public String toString() {
  return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```

toString方法应该返回对象中包含的所有值得关注的信息。如果对象太大，或者对象中包含的状态信息难以用字符串来表达，这种情况下，toString应该返回一个摘要信息。

理想情况下，字符串应该是子描述的(self-explanatory)（Thread例子不满足这样的要求）。

一种比较方便通用的方法是使用`org.apache.commons.lang3.builder.ToStringBuilder`

```java
@Override
public String toString() {
    return ToStringBuilder.reflectionToString(this,
            ToStringStyle.SHORT_PREFIX_STYLE);
}
```

***

参考文献: Effective Java -- 第10条

***

## 2. final关键字：
* 1.变量
  
  final定义的变量，这个变量一旦被初始化便不可改变.

* 2.方法
  
  一个类不允许其子类覆盖某个方法，就可以把这个方法声明为final
  
* 3.类
  
  final类不能被继承因此final类的成员方法没有机会被覆盖默认都是final

## 3. static关键字

* 1.变量

  static修改的变量为静态变量，在内存中只有一个拷贝，jvm只为静态分配一次内存，在加载类的过程中完成对静态变量的内存分配，可用类名直接访问。
* 2.方法

  静态方法可以直接通过类名调用，任何的示例也都可以调用，因此静态方法中不能用this和super关键字
  
* 3.代码块
 
  static代码块页脚静态代码块，是在类中独立于类成员你的static语句块。

* 4.static和final一起使用
  
  static final用来修饰成员变量和成员方法，可简单理解为“全局变量”  
  对于变量，表示一旦给值就不可修改，并且通过类名可以直接访问
  对于方法，表示不可覆盖，并且通过类名可以直接访问
  
  用static修饰的代码块表示静态代码块，当Java虚拟机（JVM）加载类时，就会执行该代码块

